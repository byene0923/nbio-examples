if your clients will be sending large websocket messages of fixed size, you probably want to take an approach similar to this example. The problem with nbio and large messages is that as the frames are appended to the message buffer, the message buffers is reallocated (internally by the the golang append message). By using a fixed size buffer pool, you can control the capacity of the message buffer at the time of the first frame and limit how many in flight messages the clients are allowed to send in concurently
